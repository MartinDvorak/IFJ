.IFJcode17
LABEL &&&scope
CREATEFRAME
PUSHFRAME
DEFVAR LF@s1
MOVE LF@s1 string@
DEFVAR LF@s2
MOVE LF@s2 string@
DEFVAR LF@s1len
MOVE LF@s1len int@0
PUSHS string@Toto\032je\032nejaky\032text
POPS LF@s1
CLEARS
PUSHS LF@s1
PUSHS string@,\032ktery\032jeste\032trochu\032obohatime
CREATEFRAME
DEFVAR TF@$tmp1
DEFVAR TF@$tmp2
DEFVAR TF@$tmp_res
POPS TF@$tmp1
POPS TF@$tmp2
CONCAT TF@$tmp_res TF@$tmp2 TF@$tmp1
PUSHS TF@$tmp_res
POPS LF@s2
CLEARS
PUSHS LF@s1
CREATEFRAME
DEFVAR TF@$retval_expr
POPS TF@$retval_expr
WRITE TF@$retval_expr
CLEARS
PUSHS string@\092n
CREATEFRAME
DEFVAR TF@$retval_expr
POPS TF@$retval_expr
WRITE TF@$retval_expr
CLEARS
PUSHS LF@s2
CREATEFRAME
DEFVAR TF@$retval_expr
POPS TF@$retval_expr
WRITE TF@$retval_expr
CLEARS
PUSHS string@\092n
CREATEFRAME
DEFVAR TF@$retval_expr
POPS TF@$retval_expr
WRITE TF@$retval_expr
CLEARS
CREATEFRAME
DEFVAR TF@&retval_function
STRLEN TF@&retval_function LF@s1
MOVE LF@s1len TF@&retval_function
PUSHS LF@s1len
PUSHS int@4
SUBS
PUSHS int@1
ADDS
POPS LF@s1len
CLEARS
CREATEFRAME
DEFVAR TF@&retval_function
MOVE TF@&retval_function string@
DEFVAR TF@*input
MOVE TF@*input LF@s2
DEFVAR TF@*index
MOVE TF@*index LF@s1len
SUB TF@*index TF@*index int@1
DEFVAR TF@*out_len
MOVE TF@*out_len int@4
DEFVAR TF@*str_len
STRLEN TF@*str_len TF@*input
PUSHS TF@*out_len
PUSHS int@0
LTS
PUSHS TF@*out_len
PUSHS TF@*str_len
GTS
ORS
DEFVAR TF@*state
POPS TF@*state
DEFVAR TF@*end_index
JUMPIFEQ $*else_branch TF@*state bool@true
ADD TF@*end_index TF@*index TF@*out_len
JUMP $*end_if
LABEL $*else_branch
MOVE TF@*end_index TF@*str_len
LABEL $*end_if
DEFVAR TF@*state_loop
DEFVAR TF@*tmp_char
LABEL $*loop_top
LT TF@*state_loop TF@*index TF@*end_index
JUMPIFEQ $*end_loop TF@*state_loop bool@false
GETCHAR TF@*tmp_char TF@*input TF@*index
CONCAT TF@&retval_function TF@&retval_function TF@*tmp_char
ADD TF@*index TF@*index int@1
JUMP $*loop_top
LABEL $*end_loop
MOVE LF@s1 TF@&retval_function
PUSHS LF@s1
CREATEFRAME
DEFVAR TF@$retval_expr
POPS TF@$retval_expr
WRITE TF@$retval_expr
CLEARS
Vystup z prekladace::1::
